var SimpleCore={buildingTime:new Date,current:null,prevTop:0,headerShow:!0,snsQRCode:null,donateImg:null,initParams:function(e){SimpleCore.buildingTime=e.buildingTime,SimpleCore.current=e.current,SimpleCore.snsQRCode=e.snsQRCode,SimpleCore.donateImg=e.donateImg,SimpleCore.backgroundDay=e.backgroundDay,SimpleCore.backgroundNight=e.backgroundNight},init:function(e){SimpleCore.initParams(e),$(window).resize(function(){SimpleCore.syncSize()}),$(window).scroll(function(e){SimpleCore.scrollCallback()}),$(document).on("click",".btn-read-mode",function(e){e.preventDefault(),SimpleCore.switchReadMode()}),$(document).on("click",".btn-search",function(e){e.preventDefault(),SimpleCore.switchSearch()}),$(document).on("click",".btn-sns-qr",function(e){e.preventDefault(),""!=SimpleCore.snsQRCode?SimpleCore.alert("来不及解释了赶紧上车",'<img style="width:180px;background:#fff;" src="'+SimpleCore.snsQRCode+'">'):SimpleCore.alert("未开通自定义功能",'<h4 style="text-align: center;margin: 0">联系博主试试看 ：）</h4>')}),$(document).on("click",".btn-thumbs-up",function(e){e.preventDefault(),""!=SimpleCore.donateImg?SimpleCore.alert("点个赞，你高兴就好",'<img style="width:180px;background:#fff;" src="'+SimpleCore.donateImg+'">'):SimpleCore.alert("未开通自定义功能",'<h4 style="text-align: center;margin: 0">联系博主试试看 ：）</h4>')}),$(document).on("click",".btn-gotop",function(e){e.preventDefault(),SimpleCore.goTop()}),SimpleCore.changeReadModel(),SimpleCore.setPageCurrent(),SimpleCore.setBuildingTime(),SimpleCore.syncSize()},goTop:function(){$("html, body").animate({scrollTop:0},200)},setPageCurrent:function(){"post"===SimpleCore.current?($("#cover").hide(),$("body").addClass("single")):($("#cover").show(),$("body").removeClass("single")),$.each($(".nav-menu a"),function(e,o){o.href==window.location.href?$(o).addClass("current"):$(o).removeClass("current")})},scrollCallback:function(){var e=document.body.scrollTop;100<e?$(".fixed-btn").show():$(".fixed-btn").hide(),$("body").hasClass("single")&&(SimpleCore.headerShow=e<100||0<SimpleCore.prevTop-e,SimpleCore.headerToggle()),SimpleCore.prevTop=e},headerToggle:function(){SimpleCore.headerShow?($(".page-title").css("top",0),$(".nav-user").css("top",0),$(window).width()<480&&$("#nav").css("top",0)):($(".page-title").css("top",-45),$(".nav-user").css("top",-45),$(window).width()<480&&$("#nav").css("top",-45))},syncSize:function(){var e=$(".page-title"),o=$(window).width();768<o&&"post"!=SimpleCore.current?e.width($("#body > .main").width()):e.removeAttr("style"),o<768&&$(".site-name").click(function(e){e.preventDefault()})},switchSearch:function(){var e=$("#search");e.hasClass("active")?e.removeClass("active"):e.addClass("active")},switchReadMode:function(){var e=$("body").hasClass("night-mode")?"day":"night";SimpleCore.setLocalData("read-mode",e),SimpleCore.changeReadModel()},changeReadModel:function(){var e=$(".btn-read-mode");"night"==SimpleCore.getLocalData("read-mode")?($("body").addClass("night-mode"),e.find("i").attr("class","fa fa-moon-o"),$(".cover-img").css({background:"url('"+SimpleCore.backgroundNight+"')","background-image":""+SimpleCore.backgroundNight,"background-size":"cover","background-position":"center","background-repeat":"no-repeat"})):($("body").removeClass("night-mode"),e.find("i").attr("class","fa fa-sun-o"),$(".cover-img").css({background:"url('"+SimpleCore.backgroundDay+"')","background-image":""+SimpleCore.backgroundDay,"background-size":"cover","background-position":"center","background-repeat":"no-repeat"}))},alert:function(e,o){var n="notice-"+(new Date).getTime(),i='<div id="'+n+'" class="notice-item"><span class="notice-item-close"><i class="fa fa-close"></i></span><p><h3 style="text-align: center;margin:0 0 10px 0">'+e+"</h3>"+o+"</p></div>";0==$("#notice").length&&$('<div id="notice"></div>').appendTo($("body")),$(i).appendTo($("#notice")).on("click",".notice-item-close",function(){return $(this).parent().remove(),!1}),$("#notice").css("margin-right",-$("#notice").width()/2),setTimeout(function(){$("#"+n).remove()},8e3)},setLocalData:function(e,o){window.localStorage&&window.localStorage.setItem(e,o)},getLocalData:function(e){if(window.localStorage)return window.localStorage.getItem(e)},setBuildingTime:function(){var e=new Date(SimpleCore.buildingTime),o=(new Date).getTime()-e.getTime();$("#siteBuildingTime").html(Math.floor(o/864e5))}};